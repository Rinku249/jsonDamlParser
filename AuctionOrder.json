{
    "name":"Order-To-Pay",
    "templates":
    {
        "template001":
        {
            "id":"T001",
            "name":"Sale_Presentation",
            "parameters":
            {
                "object":"Text",
                "supplier":"Party"
            },
            "type":"Template",
            "signatory":"supplier",
            "observer":"",
            "key":""
        },
        "template002":
        {
            "id":"T002",
            "name":"Auction",
            "parameters":
            {
                "object":"Text",
                "currentPrice":"Decimal",
                "currentBidder":"Party",
                "supplier":"Party",
                "public":"Party"
            },
            "type":"Template",
            "signatory":"supplier",
            "observer":"public",
            "key":""
        },
        "template003":
        {
            "id":"T003",
            "name":"bid",
            "parameters":
            {
                "bidder":"Party",
                "bid":"Decimal",
                "supplier":"Party"
            },
            "type":"Template",
            "signatory":"supplier",
            "observer":"bidder",
            "key":           
            {
                "supplier":"Party",
                "bidder":"Party"
            }
        },
        "template004":
        {
            "id":"T004",
            "name":"WinnerIOU",
            "parameters":
            {
                "object":"Text",
                "finalPrice":"Decimal",
                "winner":"Party",
                "supplier":"Party"

            },
            "type":"Template",
            "signatory":"supplier",
            "observer":"winner",
            "key":""
        }
    },
    "choices":
    {
        "choice001":
        {
            "id":"C001",
            "name":"Publish",
            "type":"Choice",
            "controller":"supplier",
            "dependency":"T001",
            "consuming":true,
            "toCreate":"T002"
        },
        "choice002":
        {
            "id":"C002",
            "name":"Bid",
            "type":"ExerciseChoice",
            "controller":"bidder",
            "dependency":"T002",
            "consuming":false,
            "toCreate":"T003",
            "choice":"C003",
            "parameters":
            {
                "bid":"Decimal",
                "bidder":"Party"
            }
        },
        "choice003":
        {
            "id":"C003",
            "name":"UpdateBidder",
            "type":"IfChoice",
            "controller":"bidder",
            "dependency":"T002",
            "consuming":true,
            "toCreate":"T002",
            "parameters":
            {
                "bid":"Decimal",
                "bidder":"Party"
            },
            "compare":
            {
                "bid":"currentPrice"
            },
            "replace":
            {
                "currentPrice":"bid",
                "currentBidder":"bidder"
            },
            "ifType":">"
        },
        "choice004":
        {
            "id":"C004",
            "name":"End_auction",
            "type":"Choice",
            "controller":"supplier",
            "dependency":"T002",
            "consuming":true,
            "toCreate":"T004"
        }  
    },
    "parameters":
    {
        "public":true
    }
}